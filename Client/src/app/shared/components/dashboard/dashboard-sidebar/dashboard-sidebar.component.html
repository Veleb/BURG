<div class="sidebar-wrapper">
  <nav [class.collapsed]="isCollapsed" class="sidebar">
    <div class="sidebar-header">
      
      @if (isCollapsed) {
        <button (click)="toggleSidebar()" class="toggle-btn">
          <i class="fa-solid fa-chevron-left chevron-icon"></i>
        </button>
      } @else {
        <button (click)="toggleSidebar()" class="toggle-btn">
          <i class="fa-solid fa-chevron-right close-sidebar-icon chevron-icon" [class.rotate]="isCollapsed"></i>
        </button>
      }
  
      @if (companies.length > 1) {
      <select class="company-select" [(ngModel)]="selectedCompany" (change)="onCompanyChange()">
        @for (company of companies; track company._id) {
        <option [value]="company._id">{{ company.name }}</option>
        }
      </select>
      }
    </div>
    
    <ul class="nav-list">
      <li [routerLink]="[`/dashboard/${user?.role === 'host' ? 'host' : 'admin'}/home`]" [queryParams]="{ companyId: selectedCompany }" routerLinkActive="active">
        <i class="fas fa-home"></i>
        <span class="nav-text">Home</span>
      </li>
      <li [routerLink]="[`/dashboard/${user?.role === 'host' ? 'host' : 'admin'}/vehicles`]" [queryParams]="{ companyId: selectedCompany }" routerLinkActive="active">
        <i class="fas fa-car"></i>
        <span class="nav-text">Vehicles</span>
      </li>
      <li [routerLink]="[`/dashboard/${user?.role === 'host' ? 'host' : 'admin'}/rents`]" [queryParams]="{ companyId: selectedCompany }" routerLinkActive="active">
        <i class="fas fa-list"></i>
        <span class="nav-text">Rents</span>
      </li>
    </ul>
    
  </nav>
</div>