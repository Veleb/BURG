<section class="faq-section">
  <div class="container">
    <h1 class="faq-title">Frequently Asked Questions</h1>

    <div class="faq-category">
      <h2 class="category-title">General Questions</h2>
      @for (faq of generalQuestions; track $index) {
        <div class="faq-item">
          <div class="faq-question" (click)="toggleFAQ(faq)" [attr.aria-expanded]="faq.active">
            <span class="question-number">{{ faq.number }}</span>
            <h3>{{ faq.question }}</h3>
            <i class="fas" [class]="faq.active ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
          </div>
          @if (faq.active) {
            <div class="faq-answer">
              <p>{{ faq.answer }}</p>
            </div>
          }
        </div>
      }
    </div>
      
    <div class="faq-category">
      <h2 class="category-title">Booking & Payments</h2>
      @for (faq of bookingQuestions; track $index) {
        <div class="faq-item">
          <div class="faq-question" (click)="toggleFAQ(faq)" [attr.aria-expanded]="faq.active">
            <span class="question-number">{{ faq.number }}</span>
            <h3>{{ faq.question }}</h3>
            <i class="fas" [class]="faq.active ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
          </div>
          @if (faq.active) {
            <div class="faq-answer">
              @if (faq.steps) {
                <ol class="steps-list">
                  @for (step of faq.steps; track $index) {
                    <li>{{ step }}</li>
                  }
                </ol>
              } @else {
                <p>{{ faq.answer }}</p>
              }
            </div>
          }
        </div>
      }
    </div>

    <div class="faq-category">
      <h2 class="category-title">Listing & Earnings (For Owners & Agencies)</h2>
      @for (faq of listingQuestions; track $index) {
        <div class="faq-item">
          <div class="faq-question" (click)="toggleFAQ(faq)" [attr.aria-expanded]="faq.active">
            <span class="question-number">{{ faq.number }}</span>
            <h3>{{ faq.question }}</h3>
            <i class="fas" [class]="faq.active ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
          </div>
          @if (faq.active) {
            <div class="faq-answer">
              @if (faq.steps) {
                <ol class="steps-list">
                  @for (step of faq.steps; track $index) {
                    <li>{{ step }}</li>
                  }
                </ol>
              } @else {
                <p>{{ faq.answer }}</p>
              }
            </div>
          }
        </div>
      }
    </div>

    <div class="faq-category">
      <h2 class="category-title">Support & Safety</h2>
      @for (faq of supportQuestions; track $index) {
        <div class="faq-item">
          <div class="faq-question" (click)="toggleFAQ(faq)" [attr.aria-expanded]="faq.active">
            <span class="question-number">{{ faq.number }}</span>
            <h3>{{ faq.question }}</h3>
            <i class="fas" [class]="faq.active ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
          </div>
          @if (faq.active) {
            <div class="faq-answer">
              <p>{{ faq.answer }}</p>
            </div>
          }
        </div>
      }
    </div>

    <div class="faq-category">
      <h2 class="category-title">Additional Features</h2>
      @for (faq of additionalQuestions; track $index) {
        <div class="faq-item">
          <div class="faq-question" (click)="toggleFAQ(faq)" [attr.aria-expanded]="faq.active">
            <span class="question-number">{{ faq.number }}</span>
            <h3>{{ faq.question }}</h3>
            <i class="fas" [class]="faq.active ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
          </div>
          @if (faq.active) {
            <div class="faq-answer">
              <p>{{ faq.answer }}</p>
            </div>
          }
        </div>
      }
    </div>

    <div class="faq-cta">
      <p>Still have questions? Contact our support team 24/7</p>
      <div class="cta-buttons">
        <a href="mailto:burpleinfodesk@gmail.com" class="cta-button">
          <i class="fas fa-envelope"></i>
          Email Support
        </a>
        <a href="tel:+971 52 198 5759" class="cta-button">
          <i class="fas fa-phone"></i>
          Call Now
        </a>
      </div>
    </div>
  </div>
</section>